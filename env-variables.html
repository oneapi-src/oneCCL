
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Environment Variables &#8212; oneCCL  documentation</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/favicons.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Notices and Disclaimers" href="legal.html" />
    <link rel="prev" title="SparseAllreduce" href="api/operations/collective-operations/sparse-allreduce.html" />
    <script defer type="text/javascript" src="https://www.intel.com/content/dam/www/global/wap/performance-config.js" ></script>
    <script type="text/javascript">
        // Configure TMS settings
        var wapLocalCode = 'us-en'; // Dynamically set per localized site, see mapping table for values
        var wapSection = "oneapi-ccl"; // WAP team will give you a unique section for your site
        // Load TMS
        (function () {
        var url = 'https://www.intel.com/content/dam/www/global/wap/tms-loader.js'; // WAP file URL
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true; po.src = url;
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
    </script>
    <link href="_static/style.css" rel="stylesheet" type="text/css">

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      <img src="_static/oneAPI-rgb-rev-100.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">oneCCL  documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <p class="caption">
 <span class="caption-text">
  Get Started
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="introduction/release-notes.html">
   Release Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="introduction/installation.html">
   Installation Guide
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="introduction/sample.html">
   Sample Application
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="introduction/cmake-configuration.html">
   Use oneCCL package from CMake
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Developer Guide
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="programming-model.html">
   Programming Model
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="programming-model/host-communication.html">
     Host Communication
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="programming-model/device-communication.html">
     Device Communication
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="programming-model/limitations.html">
     Limitations
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="general-configuration.html">
   General Configuration
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="general-configuration/operation-execution.html">
     Execution of Communication Operations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="general-configuration/transport-selection.html">
     Transport selection
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="advanced-configuration.html">
   Advanced Configuration
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="advanced-configuration/collective-algorithms-selection.html">
     Selection of Collective Algorithms
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="advanced-configuration/operation-caching.html">
     Caching of Communication Operations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="advanced-configuration/operation-prioritization.html">
     Prioritization of Communication Operations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="advanced-configuration/operation-fusion.html">
     Fusion of Communication Operations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="advanced-configuration/unordered-collectives.html">
     Unordered collectives support
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="advanced-configuration/sparse-collectives.html">
     Sparse collective operations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="advanced-configuration/dmabuf.html">
     Enabling OFI/verbs dmabuf support
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Developer Reference
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="api.html">
   oneCCL API
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="api/initialization.html">
     Initialization
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="api/concepts.html">
     oneCCL Concepts
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="api/concepts/communicator.html">
       Communicator
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="api/concepts/context.html">
       Context
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="api/concepts/device.html">
       Device
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="api/concepts/event.html">
       Event
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="api/concepts/kvs.html">
       Key-value Store
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="api/concepts/stream.html">
       Stream
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="api/operations.html">
     Communication operations
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="api/operations/datatypes.html">
       Datatypes
      </a>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="api/operations/collective-operations.html">
       Collective Operations
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
      <label for="toctree-checkbox-7">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="api/operations/collective-operations/allgatherv.html">
         Allgatherv
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/operations/collective-operations/allreduce.html">
         Allreduce
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/operations/collective-operations/alltoall.html">
         Alltoall
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/operations/collective-operations/alltoallv.html">
         Alltoallv
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/operations/collective-operations/barrier.html">
         Barrier
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/operations/collective-operations/broadcast.html">
         Broadcast
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/operations/collective-operations/reduce.html">
         Reduce
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/operations/collective-operations/reduce-scatter.html">
         ReduceScatter
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/operations/collective-operations/sparse-allreduce.html">
         SparseAllreduce
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Environment Variables
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Notices and Disclaimers
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="legal.html">
   Notices and Disclaimers
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/env-variables.rst.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.rst</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        
        <a class="issues-button"
            href="https://github.com/oneapi-src/oneCCL/issues/new?title=Issue%20on%20page%20%2Fenv-variables.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/oneapi-src/oneCCL/edit/master/doc/source/env-variables.rst"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#collective-algorithms-selection">
   Collective algorithms selection
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ccl-coll-name">
     CCL_&lt;coll_name&gt;
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#available-collectives">
     Available collectives
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#available-algorithms">
     Available algorithms
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#allgatherv-algorithms">
       <code class="docutils literal notranslate">
        <span class="pre">
         ALLGATHERV
        </span>
       </code>
       algorithms
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#allreduce-algorithms">
       <code class="docutils literal notranslate">
        <span class="pre">
         ALLREDUCE
        </span>
       </code>
       algorithms
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#alltoall-algorithms">
       <code class="docutils literal notranslate">
        <span class="pre">
         ALLTOALL
        </span>
       </code>
       algorithms
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#alltoallv-algorithms">
       <code class="docutils literal notranslate">
        <span class="pre">
         ALLTOALLV
        </span>
       </code>
       algorithms
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#barrier-algorithms">
       <code class="docutils literal notranslate">
        <span class="pre">
         BARRIER
        </span>
       </code>
       algorithms
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#bcast-algorithms">
       <code class="docutils literal notranslate">
        <span class="pre">
         BCAST
        </span>
       </code>
       algorithms
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#reduce-algorithms">
       <code class="docutils literal notranslate">
        <span class="pre">
         REDUCE
        </span>
       </code>
       algorithms
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#reduce-scatter-algorithms">
       <code class="docutils literal notranslate">
        <span class="pre">
         REDUCE_SCATTER
        </span>
       </code>
       algorithms
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#sparse-allreduce-algorithms">
       <code class="docutils literal notranslate">
        <span class="pre">
         SPARSE_ALLREDUCE
        </span>
       </code>
       algorithms
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#ccl-rs-chunk-count">
       CCL_RS_CHUNK_COUNT
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#ccl-rs-min-chunk-size">
       CCL_RS_MIN_CHUNK_SIZE
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fusion">
   Fusion
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ccl-fusion">
     CCL_FUSION
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ccl-fusion-bytes-threshold">
     CCL_FUSION_BYTES_THRESHOLD
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ccl-fusion-count-threshold">
     CCL_FUSION_COUNT_THRESHOLD
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ccl-fusion-cycle-ms">
     CCL_FUSION_CYCLE_MS
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#atl">
   ATL
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ccl-atl-transport">
     CCL_ATL_TRANSPORT
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ccl-atl-hmem">
     CCL_ATL_HMEM
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ccl-unordered-coll">
   CCL_UNORDERED_COLL
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ccl-priority">
   CCL_PRIORITY
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ccl-worker-count">
   CCL_WORKER_COUNT
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ccl-worker-affinity">
   CCL_WORKER_AFFINITY
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ccl-worker-mem-affinity">
   CCL_WORKER_MEM_AFFINITY
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ccl-log-level">
   CCL_LOG_LEVEL
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ccl-max-short-size">
   CCL_MAX_SHORT_SIZE
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#multi-nic">
   Multi-NIC
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ccl-mnic">
     CCL_MNIC
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ccl-mnic-name">
     CCL_MNIC_NAME
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ccl-mnic-count">
     CCL_MNIC_COUNT
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="environment-variables">
<h1>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h1>
<div class="section" id="collective-algorithms-selection">
<h2>Collective algorithms selection<a class="headerlink" href="#collective-algorithms-selection" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ccl-coll-name">
<h3>CCL_&lt;coll_name&gt;<a class="headerlink" href="#ccl-coll-name" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax</strong></p>
<p>To set a specific algorithm for the whole message size range:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_</span><span class="o">&lt;</span><span class="n">coll_name</span><span class="o">&gt;=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>To set a specific algorithm for a specific message size range:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_</span><span class="o">&lt;</span><span class="n">coll_name</span><span class="o">&gt;=</span><span class="s">&quot;&lt;algo_name_1&gt;[:&lt;size_range_1&gt;][;&lt;algo_name_2&gt;:&lt;size_range_2&gt;][;...]&quot;</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;coll_name&gt;</span></code> is selected from a list of available collective operations (<a class="reference internal" href="#available-collectives">Available collectives</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;algo_name&gt;</span></code> is selected from a list of available algorithms for a specific collective operation (<a class="reference internal" href="#available-algorithms">Available algorithms</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;size_range&gt;</span></code> is described by the left and the right size borders in a format <code class="docutils literal notranslate"><span class="pre">&lt;left&gt;-&lt;right&gt;</span></code>.
Size is specified in bytes. Use reserved word <code class="docutils literal notranslate"><span class="pre">max</span></code> to specify the maximum message size.</p></li>
</ul>
<p>oneCCL internally fills algorithm selection table with sensible defaults. User input complements the selection table.
To see the actual table values set <code class="docutils literal notranslate"><span class="pre">CCL_LOG_LEVEL=info</span></code>.</p>
<p class="rubric">Example</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLREDUCE</span><span class="o">=</span><span class="s">&quot;recursive_doubling:0-8192;rabenseifner:8193-1048576;ring:1048577-max&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="available-collectives">
<h3>Available collectives<a class="headerlink" href="#available-collectives" title="Permalink to this headline">¶</a></h3>
<p>Available collective operations (<code class="docutils literal notranslate"><span class="pre">&lt;coll_name&gt;</span></code>):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ALLTOALL</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ALLTOALLV</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BARRIER</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BCAST</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">REDUCE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SPARSE_ALLREDUCE</span></code></p></li>
</ul>
</div>
<div class="section" id="available-algorithms">
<h3>Available algorithms<a class="headerlink" href="#available-algorithms" title="Permalink to this headline">¶</a></h3>
<p>Available algorithms for each collective operation (<code class="docutils literal notranslate"><span class="pre">&lt;algo_name&gt;</span></code>):</p>
<div class="section" id="allgatherv-algorithms">
<h4><code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code> algorithms<a class="headerlink" href="#allgatherv-algorithms" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Iallgatherv</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">naive</span></code></p></td>
<td><p>Send to all, receive from all</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">flat</span></code></p></td>
<td><p>Alltoall-based algorithm</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">multi_bcast</span></code></p></td>
<td><p>Series of broadcast operations with different root ranks</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="allreduce-algorithms">
<h4><code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code> algorithms<a class="headerlink" href="#allreduce-algorithms" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Iallreduce</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rabenseifner</span></code></p></td>
<td><p>Rabenseifner’s algorithm</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">starlike</span></code></p></td>
<td><p>May be beneficial for imbalanced workloads</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>reduce_scatter + allgather ring.
Use <code class="docutils literal notranslate"><span class="pre">CCL_RS_CHUNK_COUNT</span></code> and <code class="docutils literal notranslate"><span class="pre">CCL_RS_MIN_CHUNK_SIZE</span></code>
to control pipelining on reduce_scatter phase.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ring_rma</span></code></p></td>
<td><p>reduce_scatter+allgather ring using RMA communications</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">double_tree</span></code></p></td>
<td><p>Double-tree algorithm</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">recursive_doubling</span></code></p></td>
<td><p>Recursive doubling algorithm</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">2d</span></code></p></td>
<td><p>Two-dimensional algorithm (reduce_scatter + allreduce + allgather)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="alltoall-algorithms">
<h4><code class="docutils literal notranslate"><span class="pre">ALLTOALL</span></code> algorithms<a class="headerlink" href="#alltoall-algorithms" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ialltoall</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">naive</span></code></p></td>
<td><p>Send to all, receive from all</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="alltoallv-algorithms">
<h4><code class="docutils literal notranslate"><span class="pre">ALLTOALLV</span></code> algorithms<a class="headerlink" href="#alltoallv-algorithms" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ialltoallv</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">naive</span></code></p></td>
<td><p>Send to all, receive from all</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="barrier-algorithms">
<h4><code class="docutils literal notranslate"><span class="pre">BARRIER</span></code> algorithms<a class="headerlink" href="#barrier-algorithms" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ibarrier</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>Ring-based algorithm</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="bcast-algorithms">
<h4><code class="docutils literal notranslate"><span class="pre">BCAST</span></code> algorithms<a class="headerlink" href="#bcast-algorithms" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ibcast</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>Ring</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">double_tree</span></code></p></td>
<td><p>Double-tree algorithm</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">naive</span></code></p></td>
<td><p>Send to all from root rank</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="reduce-algorithms">
<h4><code class="docutils literal notranslate"><span class="pre">REDUCE</span></code> algorithms<a class="headerlink" href="#reduce-algorithms" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ireduce</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rabenseifner</span></code></p></td>
<td><p>Rabenseifner’s algorithm</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tree</span></code></p></td>
<td><p>Tree algorithm</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">double_tree</span></code></p></td>
<td><p>Double-tree algorithm</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="reduce-scatter-algorithms">
<h4><code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> algorithms<a class="headerlink" href="#reduce-scatter-algorithms" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ireduce_scatter_block</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>Use <code class="docutils literal notranslate"><span class="pre">CCL_RS_CHUNK_COUNT</span></code> and <code class="docutils literal notranslate"><span class="pre">CCL_RS_MIN_CHUNK_SIZE</span></code>
to control pipelining.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sparse-allreduce-algorithms">
<h4><code class="docutils literal notranslate"><span class="pre">SPARSE_ALLREDUCE</span></code> algorithms<a class="headerlink" href="#sparse-allreduce-algorithms" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>Ring-allreduce based algorithm</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mask</span></code></p></td>
<td><p>Mask matrix based algorithm</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">allgatherv</span></code></p></td>
<td><p>3-allgatherv based algorithm</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>WARNING: <code class="docutils literal notranslate"><span class="pre">ccl::sparse_allreduce</span></code> is experimental and subject to change.</p>
</div>
</div>
<div class="section" id="ccl-rs-chunk-count">
<h4>CCL_RS_CHUNK_COUNT<a class="headerlink" href="#ccl-rs-chunk-count" title="Permalink to this headline">¶</a></h4>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_RS_CHUNK_COUNT</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">COUNT</span></code></p></td>
<td><p>Maximum number of chunks.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify maximum number of chunks for reduce_scatter phase in ring allreduce.</p>
</div>
<div class="section" id="ccl-rs-min-chunk-size">
<h4>CCL_RS_MIN_CHUNK_SIZE<a class="headerlink" href="#ccl-rs-min-chunk-size" title="Permalink to this headline">¶</a></h4>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_RS_MIN_CHUNK_SIZE</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SIZE</span></code></p></td>
<td><p>Minimum number of bytes in chunk.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify minimum number of bytes in chunk for reduce_scatter phase in ring allreduce. Affects actual value of <code class="docutils literal notranslate"><span class="pre">CCL_RS_CHUNK_COUNT</span></code>.</p>
</div>
</div>
</div>
<div class="section" id="fusion">
<h2>Fusion<a class="headerlink" href="#fusion" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ccl-fusion">
<h3>CCL_FUSION<a class="headerlink" href="#ccl-fusion" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_FUSION</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Enable fusion of collective operations</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Disable fusion of collective operations (<strong>default</strong>)</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to control fusion of collective operations.
The real fusion depends on additional settings described below.</p>
</div>
<div class="section" id="ccl-fusion-bytes-threshold">
<h3>CCL_FUSION_BYTES_THRESHOLD<a class="headerlink" href="#ccl-fusion-bytes-threshold" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_FUSION_BYTES_THRESHOLD</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SIZE</span></code></p></td>
<td><p>Bytes threshold for a collective operation. If the size of a communication buffer in bytes is less than or equal
to <code class="docutils literal notranslate"><span class="pre">SIZE</span></code>, then oneCCL fuses this operation with the other ones.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the threshold of the number of bytes for a collective operation to be fused.</p>
</div>
<div class="section" id="ccl-fusion-count-threshold">
<h3>CCL_FUSION_COUNT_THRESHOLD<a class="headerlink" href="#ccl-fusion-count-threshold" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_FUSION_COUNT_THRESHOLD</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">COUNT</span></code></p></td>
<td><p>The threshold for the number of collective operations.
oneCCL can fuse together no more than <code class="docutils literal notranslate"><span class="pre">COUNT</span></code> operations at a time.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify count threshold for a collective operation to be fused.</p>
</div>
<div class="section" id="ccl-fusion-cycle-ms">
<h3>CCL_FUSION_CYCLE_MS<a class="headerlink" href="#ccl-fusion-cycle-ms" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_FUSION_CYCLE_MS</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MS</span></code></p></td>
<td><p>The frequency of checking for collectives operations to be fused, in milliseconds:</p>
<ul class="simple">
<li><p>Small <code class="docutils literal notranslate"><span class="pre">MS</span></code> value can improve latency.</p></li>
<li><p>Large <code class="docutils literal notranslate"><span class="pre">MS</span></code> value can help to fuse larger number of operations at a time.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the frequency of checking for collectives operations to be fused.</p>
</div>
</div>
<div class="section" id="atl">
<h2>ATL<a class="headerlink" href="#atl" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ccl-atl-transport">
<h3>CCL_ATL_TRANSPORT<a class="headerlink" href="#ccl-atl-transport" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ATL_TRANSPORT</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mpi</span></code></p></td>
<td><p>MPI transport (<strong>default</strong>).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ofi</span></code></p></td>
<td><p>OFI (Libfabric*) transport.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to select the transport for inter-process communications.</p>
</div>
<div class="section" id="ccl-atl-hmem">
<h3>CCL_ATL_HMEM<a class="headerlink" href="#ccl-atl-hmem" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ATL_HMEM</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Enable heterogeneous memory support on the transport layer.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Disable heterogeneous memory support on the transport layer (<strong>default</strong>).</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to enable handling of HMEM/GPU buffers by the transport layer.
The actual HMEM support depends on the limitations on the transport level and system configuration.</p>
</div>
</div>
<div class="section" id="ccl-unordered-coll">
<h2>CCL_UNORDERED_COLL<a class="headerlink" href="#ccl-unordered-coll" title="Permalink to this headline">¶</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_UNORDERED_COLL</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Enable execution of unordered collectives.
You have to additionally specify <code class="docutils literal notranslate"><span class="pre">match_id</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Disable execution of unordered collectives (<strong>default</strong>).</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to enable execution of unordered collective operations on different nodes.</p>
</div>
<div class="section" id="ccl-priority">
<h2>CCL_PRIORITY<a class="headerlink" href="#ccl-priority" title="Permalink to this headline">¶</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_PRIORITY</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>You have to explicitly specify priority using <code class="docutils literal notranslate"><span class="pre">priority</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lifo</span></code></p></td>
<td><p>Priority is implicitly increased on each collective call. You do not have to specify priority.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">none</span></code></p></td>
<td><p>Disable prioritization (<strong>default</strong>).</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to control priority mode of collective operations.</p>
</div>
<div class="section" id="ccl-worker-count">
<h2>CCL_WORKER_COUNT<a class="headerlink" href="#ccl-worker-count" title="Permalink to this headline">¶</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_WORKER_COUNT</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">N</span></code></p></td>
<td><p>The number of worker threads for oneCCL rank (<code class="docutils literal notranslate"><span class="pre">1</span></code> if not specified).</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the number of oneCCL worker threads.</p>
</div>
<div class="section" id="ccl-worker-affinity">
<h2>CCL_WORKER_AFFINITY<a class="headerlink" href="#ccl-worker-affinity" title="Permalink to this headline">¶</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_WORKER_AFFINITY</span><span class="o">=&lt;</span><span class="n">cpulist</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;cpulist&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">auto</span></code></p></td>
<td><p>Workers are automatically pinned to last cores of pin domain.
Pin domain depends from process launcher.
If <code class="docutils literal notranslate"><span class="pre">mpirun</span></code> from oneCCL package is used then pin domain is MPI process pin domain.
Otherwise, pin domain is all cores on the node.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;cpulist&gt;</span></code></p></td>
<td><p>A comma-separated list of core numbers and/or ranges of core numbers for all local workers, one number per worker.
The i-th local worker is pinned to the i-th core in the list.
For example &lt;a&gt;,&lt;b&gt;-&lt;c&gt; defines list of cores contaning core with number &lt;a&gt;
and range of cores with numbers from &lt;b&gt; to &lt;c&gt;.
The number should not exceed the number of cores available on the system.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify cpu affinity for oneCCL worker threads.</p>
</div>
<div class="section" id="ccl-worker-mem-affinity">
<h2>CCL_WORKER_MEM_AFFINITY<a class="headerlink" href="#ccl-worker-mem-affinity" title="Permalink to this headline">¶</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_WORKER_MEM_AFFINITY</span><span class="o">=&lt;</span><span class="n">nodelist</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;nodelist&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">auto</span></code></p></td>
<td><p>Workers are automatically pinned to NUMA nodes that correspond to CPU affinity of workers.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;nodelist&gt;</span></code></p></td>
<td><p>A comma-separated list of NUMA node numbers for all local workers, one number per worker.
The i-th local worker is pinned to the i-th NUMA node in the list.
The number should not exceed the number of NUMA nodes available on the system.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify memory affinity for oneCCL worker threads.</p>
</div>
<div class="section" id="ccl-log-level">
<h2>CCL_LOG_LEVEL<a class="headerlink" href="#ccl-log-level" title="Permalink to this headline">¶</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_LOG_LEVEL</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="table">
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">error</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">warn</span></code> (<strong>default</strong>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">info</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">debug</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">trace</span></code></p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to control logging level.</p>
</div>
<div class="section" id="ccl-max-short-size">
<h2>CCL_MAX_SHORT_SIZE<a class="headerlink" href="#ccl-max-short-size" title="Permalink to this headline">¶</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_MAX_SHORT_SIZE</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SIZE</span></code></p></td>
<td><p>Bytes threshold for a collective operation (<code class="docutils literal notranslate"><span class="pre">0</span></code> if not specified). If the size of a communication buffer in bytes is less than or equal to <code class="docutils literal notranslate"><span class="pre">SIZE</span></code>, then oneCCL does not split operation between workers. Applicable for <code class="docutils literal notranslate"><span class="pre">allreduce</span></code>, <code class="docutils literal notranslate"><span class="pre">reduce</span></code> and <code class="docutils literal notranslate"><span class="pre">broadcast</span></code>.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the threshold of the number of bytes for a collective operation to be split.</p>
</div>
<div class="section" id="multi-nic">
<h2>Multi-NIC<a class="headerlink" href="#multi-nic" title="Permalink to this headline">¶</a></h2>
<p>CCL_MNIC, CCL_MNIC_NAME and CCL_MNIC_COUNT define filters to select multiple NICs.
oneCCL workers will be pinned on selected NICs in a round-robin way.</p>
<div class="section" id="ccl-mnic">
<h3>CCL_MNIC<a class="headerlink" href="#ccl-mnic" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_MNIC</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">global</span></code></p></td>
<td><p>Select all NICs available on the node.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">local</span></code></p></td>
<td><p>Select all NICs local for the NUMA node that corresponds to process pinning.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">none</span></code></p></td>
<td><p>Disable special NIC selection, use a single default NIC (<strong>default</strong>).</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to control multi-NIC selection by NIC locality.</p>
</div>
<div class="section" id="ccl-mnic-name">
<h3>CCL_MNIC_NAME<a class="headerlink" href="#ccl-mnic-name" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_MNIC_NAME</span><span class="o">=&lt;</span><span class="n">namelist</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;namelist&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;namelist&gt;</span></code></p></td>
<td><p>A comma-separated list of NIC full names or prefixes to filter NICs.
Use the <code class="docutils literal notranslate"><span class="pre">^</span></code> symbol to exclude NICs starting with the specified prefixes. For example,
if you provide a list <code class="docutils literal notranslate"><span class="pre">mlx5_0,mlx5_1,^mlx5_2</span></code>, NICs with the names <code class="docutils literal notranslate"><span class="pre">mlx5_0</span></code> and <code class="docutils literal notranslate"><span class="pre">mlx5_1</span></code>
will be selected, while <code class="docutils literal notranslate"><span class="pre">mlx5_2</span></code> will be excluded from the selection.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to control multi-NIC selection by NIC names.</p>
</div>
<div class="section" id="ccl-mnic-count">
<h3>CCL_MNIC_COUNT<a class="headerlink" href="#ccl-mnic-count" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_MNIC_COUNT</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">N</span></code></p></td>
<td><p>The maximum number of NICs that should be selected for oneCCL workers.
If not specified then equal to the number of oneCCL workers.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the maximum number of NICs to be selected.
The actual number of NICs selected may be smaller due to limitations on transport level or system configuration.</p>
</div>
</div>
</div>


              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="api/operations/collective-operations/sparse-allreduce.html" title="previous page">SparseAllreduce</a>
    <a class='right-next' id="next-link" href="legal.html" title="next page">Notices and Disclaimers</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Intel<br/>
        
            &copy; Copyright 2019–2021.<br/>
          <div class="extra_footer">
            <p align="right"><a href="https://www.intel.com/content/www/us/en/privacy/intel-cookie-notice.html">Cookies</a></p>
          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>