

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Environment Variables &#8212; oneCCL  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <link rel="shortcut icon" href="_static/favicons.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Notices and Disclaimers" href="legal.html" />
    <link rel="prev" title="Point-To-Point Operations" href="api/operations/point-to-point.html" />
    <script defer type="text/javascript" src="https://www.intel.com/content/dam/www/global/wap/performance-config.js" ></script>
    <script type="text/javascript">
        // Configure TMS settings
        var wapLocalCode = 'us-en'; // Dynamically set per localized site, see mapping table for values
        var wapSection = "oneapi-ccl"; // WAP team will give you a unique section for your site
        // Load TMS
        (function () {
        var url = 'https://www.intel.com/content/dam/www/global/wap/tms-loader.js'; // WAP file URL
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true; po.src = url;
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
    </script>
    <link href="_static/style.css" rel="stylesheet" type="text/css">

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/oneAPI-rgb-rev-100.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/oneAPI-rgb-rev-100.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="introduction/release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction/installation.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction/sample.html">Sample Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction/cmake-configuration.html">Use oneCCL package from CMake</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="programming-model.html">Programming Model</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="programming-model/host-communication.html">Host Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="programming-model/device-communication.html">Device Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="programming-model/limitations.html">Limitations</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="general-configuration.html">General Configuration</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="general-configuration/operation-execution.html">Execution of Communication Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="general-configuration/transport-selection.html">Transport Selection</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="advanced-configuration.html">Advanced Configuration</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="advanced-configuration/collective-algorithms-selection.html">Selection of Collective Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced-configuration/low-precision-datatypes.html">Low-precision Datatypes</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced-configuration/operation-caching.html">Caching of Communication Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced-configuration/operation-prioritization.html">Prioritization of Communication Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced-configuration/operation-fusion.html">Fusion of Communication Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced-configuration/dmabuf.html">Enabling OFI/verbs/dmabuf Support</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Developer Reference</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="api.html">oneCCL API</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="api/initialization.html">Initialization</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/concepts.html">oneCCL Concepts</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/concepts/communicator.html">Communicator</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/concepts/context.html">Context</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/concepts/device.html">Device</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/concepts/event.html">Event</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/concepts/kvs.html">Key-value Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/concepts/stream.html">Stream</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/operations.html">Communication Operations</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/operations/datatypes.html">Datatypes</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/operations/collective-operations.html">Collective Operations</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api/operations/collective-operations/allgatherv.html">Allgatherv</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/operations/collective-operations/allreduce.html">Allreduce</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/operations/collective-operations/alltoall.html">Alltoall</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/operations/collective-operations/alltoallv.html">Alltoallv</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/operations/collective-operations/barrier.html">Barrier</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/operations/collective-operations/broadcast.html">Broadcast</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/operations/collective-operations/reduce.html">Reduce</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/operations/collective-operations/reduce-scatter.html">ReduceScatter</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/operations/point-to-point.html">Point-To-Point Operations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Environment Variables</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Notices and Disclaimers</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="legal.html">Notices and Disclaimers</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/oneapi-src/oneCCL/edit/master/doc/rst/source/env-variables.rst" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/oneapi-src/oneCCL/issues/new?title=Issue%20on%20page%20%2Fenv-variables.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/env-variables.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Environment Variables</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#collective-algorithms-selection">Collective Algorithms Selection</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#device-gpu-memory-buffers">Device (GPU) Memory Buffers</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#scaleup">SCALEUP</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-allgatherv-monolithic-pipeline-kernel">CCL_ALLGATHERV_MONOLITHIC_PIPELINE_KERNEL</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-reduce-scatter-monolithic-pipeline-kernel">CCL_REDUCE_SCATTER_MONOLITHIC_PIPELINE_KERNEL</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-alltoallv-monolithic-kernel">CCL_ALLTOALLV_MONOLITHIC_KERNEL</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-skip-scheduler">CCL_SKIP_SCHEDULER</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#scaleout">SCALEOUT</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#available-collectives">Available Collectives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#available-algorithms">Available algorithms</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#allgatherv-algorithms"><code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code> algorithms</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#allreduce-algorithms"><code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code> algorithms</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#alltoall-algorithms"><code class="docutils literal notranslate"><span class="pre">ALLTOALL</span></code> algorithms</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#alltoallv-algorithms"><code class="docutils literal notranslate"><span class="pre">ALLTOALLV</span></code> algorithms</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#barrier-algorithms"><code class="docutils literal notranslate"><span class="pre">BARRIER</span></code> algorithms</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#bcast-algorithms"><code class="docutils literal notranslate"><span class="pre">BCAST</span></code> algorithms</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#reduce-algorithms"><code class="docutils literal notranslate"><span class="pre">REDUCE</span></code> algorithms</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#reduce-scatter-algorithms"><code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> algorithms</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#host-cpu-memory-buffers">Host (CPU) Memory Buffers</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-coll-name">CCL_&lt;coll_name&gt;</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-rs-chunk-count">CCL_RS_CHUNK_COUNT</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-rs-min-chunk-size">CCL_RS_MIN_CHUNK_SIZE</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#workers">Workers</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-worker-count">CCL_WORKER_COUNT</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-worker-affinity">CCL_WORKER_AFFINITY</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-worker-mem-affinity">CCL_WORKER_MEM_AFFINITY</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#atl">ATL</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-atl-transport">CCL_ATL_TRANSPORT</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-atl-hmem">CCL_ATL_HMEM</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-atl-shm">CCL_ATL_SHM</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-process-launcher">CCL_PROCESS_LAUNCHER</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-local-size">CCL_LOCAL_SIZE</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-local-rank">CCL_LOCAL_RANK</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-nic">Multi-NIC</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-mnic">CCL_MNIC</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-mnic-name">CCL_MNIC_NAME</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-mnic-count">CCL_MNIC_COUNT</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#low-precision-datatypes">Low-precision datatypes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-bf16">CCL_BF16</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fp16">CCL_FP16</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-log-level">CCL_LOG_LEVEL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-itt-level">CCL_ITT_LEVEL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fusion">Fusion</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fusion">CCL_FUSION</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fusion-bytes-threshold">CCL_FUSION_BYTES_THRESHOLD</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fusion-count-threshold">CCL_FUSION_COUNT_THRESHOLD</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fusion-cycle-ms">CCL_FUSION_CYCLE_MS</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-priority">CCL_PRIORITY</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-max-short-size">CCL_MAX_SHORT_SIZE</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-output-event">CCL_SYCL_OUTPUT_EVENT</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-ze-library-path">CCL_ZE_LIBRARY_PATH</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#point-to-point-operations">Point-To-Point Operations</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-recv">CCL_RECV</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-send">CCL_SEND</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="environment-variables">
<h1>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">#</a></h1>
<section id="collective-algorithms-selection">
<span id="id1"></span><h2>Collective Algorithms Selection<a class="headerlink" href="#collective-algorithms-selection" title="Permalink to this headline">#</a></h2>
<p>oneCCL supports collective operations for the host (CPU) memory buffers and device (GPU) memory buffers. Below you can see how to select the collective algorithm depending on the type of buffer being utilized.</p>
<section id="device-gpu-memory-buffers">
<h3>Device (GPU) Memory Buffers<a class="headerlink" href="#device-gpu-memory-buffers" title="Permalink to this headline">#</a></h3>
<p>Collectives that use GPU buffers are implemented using two phases:</p>
<ul class="simple">
<li><p>Scaleup phase. Communication between ranks/processes in the same node.</p></li>
<li><p>Scaleout phase. Communication between ranks/processes on different nodes.</p></li>
</ul>
<section id="scaleup">
<h4>SCALEUP<a class="headerlink" href="#scaleup" title="Permalink to this headline">#</a></h4>
<p>Use the following environment variables to select the scaleup algorithm:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_REDUCE_SCATTER_MONOLITHIC_KERNEL</span>
</pre></div>
</div>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_REDUCE_SCATTER_MONOLITHIC_KERNEL</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Uses compute kernels to transfer data across GPUs for the <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code>, <code class="docutils literal notranslate"><span class="pre">REDUCE</span></code>, and <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> collectives.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Uses copy engines to transfer data across GPUs for the <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code>, <code class="docutils literal notranslate"><span class="pre">REDUCE</span></code>, and <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> collectives. The default value.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to enable compute kernels for the <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code>, <code class="docutils literal notranslate"><span class="pre">REDUCE</span></code>, and <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> collectives using device (GPU) buffers.</p>
</section>
<section id="ccl-allgatherv-monolithic-pipeline-kernel">
<h4>CCL_ALLGATHERV_MONOLITHIC_PIPELINE_KERNEL<a class="headerlink" href="#ccl-allgatherv-monolithic-pipeline-kernel" title="Permalink to this headline">#</a></h4>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLGATHERV_MONOLITHIC_PIPELINE_KERNEL</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Uses compute kernels to transfer data across GPUs for the <code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code> collective. The default value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Uses copy engines to transfer data across GPUs for the <code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code> collective.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to enable compute kernels that pipeline data
transfers across tiles in the same GPU with data transfers across different
GPUs, for the <code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code> collective using device (GPU) buffers.</p>
</section>
<section id="ccl-reduce-scatter-monolithic-pipeline-kernel">
<h4>CCL_REDUCE_SCATTER_MONOLITHIC_PIPELINE_KERNEL<a class="headerlink" href="#ccl-reduce-scatter-monolithic-pipeline-kernel" title="Permalink to this headline">#</a></h4>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_REDUCE_SCATTER_MONOLITHIC_PIPELINE_KERNEL</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Uses compute kernels for the <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code>, <code class="docutils literal notranslate"><span class="pre">REDUCE</span></code>, and <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> collectives. The default value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Uses copy engines to transfer data across GPUs for the <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code>, <code class="docutils literal notranslate"><span class="pre">REDUCE</span></code>, and <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span> <span class="pre">collectives</span></code>.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to enable compute kernels, that pipeline data
transfers across tiles in the same GPU with data transfers across different
GPUs, for the <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code>, <code class="docutils literal notranslate"><span class="pre">REDUCE</span></code>, and <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> collectives
using the device (GPU) buffers.</p>
</section>
<section id="ccl-alltoallv-monolithic-kernel">
<h4>CCL_ALLTOALLV_MONOLITHIC_KERNEL<a class="headerlink" href="#ccl-alltoallv-monolithic-kernel" title="Permalink to this headline">#</a></h4>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLTOALLV_MONOLITHIC_KERNEL</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Uses compute kernels to transfer data across GPUs for the <code class="docutils literal notranslate"><span class="pre">ALLTOALL</span></code> and <code class="docutils literal notranslate"><span class="pre">ALLTOALLV</span></code> collectives. The default value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Uses copy engines to transfer data across GPUs for the <code class="docutils literal notranslate"><span class="pre">ALLTOALL</span></code> and <code class="docutils literal notranslate"><span class="pre">ALLTOALLV</span></code> collectives.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to enable compute kernels for the <code class="docutils literal notranslate"><span class="pre">ALLTOALL</span></code> and <code class="docutils literal notranslate"><span class="pre">ALLTOALLV</span></code> collectives using device (GPU) buffers
<code class="docutils literal notranslate"><span class="pre">CCL_&lt;coll_name&gt;_SCALEOUT</span></code>.</p>
</section>
<section id="ccl-skip-scheduler">
<h4>CCL_SKIP_SCHEDULER<a class="headerlink" href="#ccl-skip-scheduler" title="Permalink to this headline">#</a></h4>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SKIP_SCHEDULER</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Enable SYCL kernels</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Disable SYCL kernels. The default value.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to <code class="docutils literal notranslate"><span class="pre">1</span></code> to enable the SYCL kernel-based implementation for <code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code>, <code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code>, and <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code>.
This new optimization enhances all message sizes and supports the <code class="docutils literal notranslate"><span class="pre">int32</span></code>, <code class="docutils literal notranslate"><span class="pre">fp32</span></code>, <code class="docutils literal notranslate"><span class="pre">fp16</span></code>, and <code class="docutils literal notranslate"><span class="pre">bf16</span></code> data types, sum operations, and single nodes.
oneCCL falls back to other implementations when the support is unavailable with SYCL kernels. Therefore, you can safely set this environment variable.</p>
</section>
<section id="scaleout">
<h4>SCALEOUT<a class="headerlink" href="#scaleout" title="Permalink to this headline">#</a></h4>
<p>The following environment variables can be used to select the scaleout algorithm used.</p>
<p><strong>Syntax</strong></p>
<p>To set a specific algorithm for scaleout for the device (GPU) buffers for the whole message size range:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_</span><span class="o">&lt;</span><span class="n">coll_name</span><span class="o">&gt;</span><span class="n">_SCALEOUT</span><span class="o">=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>To set a specific algorithm for scaleout for the device (GPU) buffers for a specific message size range:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_</span><span class="o">&lt;</span><span class="n">coll_name</span><span class="o">&gt;</span><span class="n">_SCALEOUT</span><span class="o">=</span><span class="s">&quot;&lt;algo_name_1&gt;[:&lt;size_range_1&gt;][;&lt;algo_name_2&gt;:&lt;size_range_2&gt;][;...]&quot;</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;coll_name&gt;</span></code> is selected from a list of the available collective operations (<a class="reference internal" href="#available-collectives">Available collectives</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;algo_name&gt;</span></code> is selected from a list of the available algorithms for the specific collective operation (<a class="reference internal" href="#available-collectives">Available collectives</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;size_range&gt;</span></code> is described by the left and the right size borders in the <code class="docutils literal notranslate"><span class="pre">&lt;left&gt;-&lt;right&gt;</span></code> format. The size is specified in bytes. To specify the maximum message size, use reserved word max.</p></li>
</ul>
<p>oneCCL internally fills the algorithm selection table with sensible defaults. Your input complements the selection table.
To see the actual table values, set <code class="docutils literal notranslate"><span class="pre">CCL_LOG_LEVEL=info</span></code>.</p>
<p class="rubric">Example</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLREDUCE_SCALEOUT</span><span class="o">=</span><span class="s">&quot;recursive_doubling:0-8192;rabenseifner:8193-1048576;ring:1048577-max&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="available-collectives">
<h3>Available Collectives<a class="headerlink" href="#available-collectives" title="Permalink to this headline">#</a></h3>
<p>Available collective operations (<code class="docutils literal notranslate"><span class="pre">&lt;coll_name&gt;</span></code>):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ALLTOALL</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ALLTOALLV</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BARRIER</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BCAST</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">REDUCE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code></p></li>
</ul>
</section>
<section id="available-algorithms">
<h3>Available algorithms<a class="headerlink" href="#available-algorithms" title="Permalink to this headline">#</a></h3>
<p>Available algorithms for each collective operation (<code class="docutils literal notranslate"><span class="pre">&lt;algo_name&gt;</span></code>):</p>
<section id="allgatherv-algorithms">
<h4><code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code> algorithms<a class="headerlink" href="#allgatherv-algorithms" title="Permalink to this headline">#</a></h4>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Iallgatherv</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">naive</span></code></p></td>
<td><p>Send to all, receive from all</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">flat</span></code></p></td>
<td><p>Alltoall-based algorithm</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">multi_bcast</span></code></p></td>
<td><p>Series of broadcast operations with different root ranks</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>Ring-based algorithm</p></td>
</tr>
</tbody>
</table>
</section>
<section id="allreduce-algorithms">
<h4><code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code> algorithms<a class="headerlink" href="#allreduce-algorithms" title="Permalink to this headline">#</a></h4>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Iallreduce</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rabenseifner</span></code></p></td>
<td><p>Rabenseifner’s algorithm</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">nreduce</span></code></p></td>
<td><p>May be beneficial for imbalanced workloads</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>reduce_scatter + allgather ring.
Use <code class="docutils literal notranslate"><span class="pre">CCL_RS_CHUNK_COUNT</span></code> and <code class="docutils literal notranslate"><span class="pre">CCL_RS_MIN_CHUNK_SIZE</span></code>
to control pipelining on reduce_scatter phase.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">double_tree</span></code></p></td>
<td><p>Double-tree algorithm</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">recursive_doubling</span></code></p></td>
<td><p>Recursive doubling algorithm</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">2d</span></code></p></td>
<td><p>Two-dimensional algorithm (reduce_scatter + allreduce + allgather). Only available for the host (CPU) buffers.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="alltoall-algorithms">
<h4><code class="docutils literal notranslate"><span class="pre">ALLTOALL</span></code> algorithms<a class="headerlink" href="#alltoall-algorithms" title="Permalink to this headline">#</a></h4>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ialltoall</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">naive</span></code></p></td>
<td><p>Send to all, receive from all</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">scatter</span></code></p></td>
<td><p>Scatter-based algorithm</p></td>
</tr>
</tbody>
</table>
</section>
<section id="alltoallv-algorithms">
<h4><code class="docutils literal notranslate"><span class="pre">ALLTOALLV</span></code> algorithms<a class="headerlink" href="#alltoallv-algorithms" title="Permalink to this headline">#</a></h4>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ialltoallv</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">naive</span></code></p></td>
<td><p>Send to all, receive from all</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">scatter</span></code></p></td>
<td><p>Scatter-based algorithm</p></td>
</tr>
</tbody>
</table>
</section>
<section id="barrier-algorithms">
<h4><code class="docutils literal notranslate"><span class="pre">BARRIER</span></code> algorithms<a class="headerlink" href="#barrier-algorithms" title="Permalink to this headline">#</a></h4>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ibarrier</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>Ring-based algorithm</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">BARRIER`</span></code> algorithm does not support the <code class="docutils literal notranslate"><span class="pre">CCL_BARRIER_SCALEOUT</span></code> environment variable. To change the algorithm for <code class="docutils literal notranslate"><span class="pre">BARRIER</span></code>, use the <code class="docutils literal notranslate"><span class="pre">CCL_BARRIER</span></code> environment variable.</p>
</div>
</section>
<section id="bcast-algorithms">
<h4><code class="docutils literal notranslate"><span class="pre">BCAST</span></code> algorithms<a class="headerlink" href="#bcast-algorithms" title="Permalink to this headline">#</a></h4>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ibcast</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>Ring</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">double_tree</span></code></p></td>
<td><p>Double-tree algorithm</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">naive</span></code></p></td>
<td><p>Send to all from root rank</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">BCAST</span></code> algorithm does not yet support the <code class="docutils literal notranslate"><span class="pre">CCL_BCAST_SCALEOUT</span></code> environment variable. To change the algorithm for <code class="docutils literal notranslate"><span class="pre">BCAST</span></code>, use the <code class="docutils literal notranslate"><span class="pre">CCL_BCAST</span></code> environment variable.</p>
</div>
</section>
<section id="reduce-algorithms">
<h4><code class="docutils literal notranslate"><span class="pre">REDUCE</span></code> algorithms<a class="headerlink" href="#reduce-algorithms" title="Permalink to this headline">#</a></h4>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ireduce</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rabenseifner</span></code></p></td>
<td><p>Rabenseifner’s algorithm</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tree</span></code></p></td>
<td><p>Tree algorithm</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">double_tree</span></code></p></td>
<td><p>Double-tree algorithm</p></td>
</tr>
</tbody>
</table>
</section>
<section id="reduce-scatter-algorithms">
<h4><code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> algorithms<a class="headerlink" href="#reduce-scatter-algorithms" title="Permalink to this headline">#</a></h4>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on <code class="docutils literal notranslate"><span class="pre">MPI_Ireduce_scatter_block</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ring</span></code></p></td>
<td><p>Use <code class="docutils literal notranslate"><span class="pre">CCL_RS_CHUNK_COUNT</span></code> and <code class="docutils literal notranslate"><span class="pre">CCL_RS_MIN_CHUNK_SIZE</span></code>
to control pipelining.</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> algorithm does not yet support the <code class="docutils literal notranslate"><span class="pre">CCL_REDUCE_SCATTER_SCALEOUT</span></code> environment variable. To change the algorithm for <code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code>, use the <code class="docutils literal notranslate"><span class="pre">CCL_REDUCE_SCATTER</span></code> environment variable.</p>
</div>
</section>
</section>
<section id="host-cpu-memory-buffers">
<h3>Host (CPU) Memory Buffers<a class="headerlink" href="#host-cpu-memory-buffers" title="Permalink to this headline">#</a></h3>
<section id="ccl-coll-name">
<h4>CCL_&lt;coll_name&gt;<a class="headerlink" href="#ccl-coll-name" title="Permalink to this headline">#</a></h4>
<p><strong>Syntax</strong></p>
<p>To set a specific algorithm for the host (CPU) buffers for the whole message size range:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_</span><span class="o">&lt;</span><span class="n">coll_name</span><span class="o">&gt;=&lt;</span><span class="n">algo_name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>To set a specific algorithm for the host (CPU) buffers for a specific message size range:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_</span><span class="o">&lt;</span><span class="n">coll_name</span><span class="o">&gt;=</span><span class="s">&quot;&lt;algo_name_1&gt;[:&lt;size_range_1&gt;][;&lt;algo_name_2&gt;:&lt;size_range_2&gt;][;...]&quot;</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;coll_name&gt;</span></code> is selected from a list of available collective operations (<a class="reference internal" href="#available-collectives">Available collectives</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;algo_name&gt;</span></code> is selected from a list of available algorithms for a specific collective operation (<a class="reference internal" href="#available-algorithms">Available algorithms</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;size_range&gt;</span></code> is described by the left and the right size borders in a format <code class="docutils literal notranslate"><span class="pre">&lt;left&gt;-&lt;right&gt;</span></code>.
Size is specified in bytes. Use reserved word <code class="docutils literal notranslate"><span class="pre">max</span></code> to specify the maximum message size.</p></li>
</ul>
<p>oneCCL internally fills algorithm selection table with sensible defaults. User input complements the selection table.
To see the actual table values set <code class="docutils literal notranslate"><span class="pre">CCL_LOG_LEVEL=info</span></code>.</p>
<p class="rubric">Example</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ALLREDUCE</span><span class="o">=</span><span class="s">&quot;recursive_doubling:0-8192;rabenseifner:8193-1048576;ring:1048577-max&quot;</span>
</pre></div>
</div>
</section>
<section id="ccl-rs-chunk-count">
<h4>CCL_RS_CHUNK_COUNT<a class="headerlink" href="#ccl-rs-chunk-count" title="Permalink to this headline">#</a></h4>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_RS_CHUNK_COUNT</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">COUNT</span></code></p></td>
<td><p>Maximum number of chunks.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify maximum number of chunks for reduce_scatter phase in ring allreduce.</p>
</section>
<section id="ccl-rs-min-chunk-size">
<h4>CCL_RS_MIN_CHUNK_SIZE<a class="headerlink" href="#ccl-rs-min-chunk-size" title="Permalink to this headline">#</a></h4>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_RS_MIN_CHUNK_SIZE</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SIZE</span></code></p></td>
<td><p>Minimum number of bytes in chunk.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify minimum number of bytes in chunk for reduce_scatter phase in ring allreduce. Affects actual value of <code class="docutils literal notranslate"><span class="pre">CCL_RS_CHUNK_COUNT</span></code>.</p>
</section>
</section>
</section>
<section id="workers">
<h2>Workers<a class="headerlink" href="#workers" title="Permalink to this headline">#</a></h2>
<p>The group of environment variables to control worker threads.</p>
<section id="ccl-worker-count">
<span id="id2"></span><h3>CCL_WORKER_COUNT<a class="headerlink" href="#ccl-worker-count" title="Permalink to this headline">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_WORKER_COUNT</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">N</span></code></p></td>
<td><p>The number of worker threads for oneCCL rank (<code class="docutils literal notranslate"><span class="pre">1</span></code> if not specified).</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the number of oneCCL worker threads.</p>
</section>
<section id="ccl-worker-affinity">
<span id="id3"></span><h3>CCL_WORKER_AFFINITY<a class="headerlink" href="#ccl-worker-affinity" title="Permalink to this headline">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_WORKER_AFFINITY</span><span class="o">=&lt;</span><span class="n">cpulist</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;cpulist&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">auto</span></code></p></td>
<td><p>Workers are automatically pinned to last cores of pin domain.
Pin domain depends from process launcher.
If <code class="docutils literal notranslate"><span class="pre">mpirun</span></code> from oneCCL package is used then pin domain is MPI process pin domain.
Otherwise, pin domain is all cores on the node.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;cpulist&gt;</span></code></p></td>
<td><p>A comma-separated list of core numbers and/or ranges of core numbers for all local workers, one number per worker.
The i-th local worker is pinned to the i-th core in the list.
For example <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;,&lt;b&gt;-&lt;c&gt;</span></code> defines list of cores contaning core with number <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;</span></code>
and range of cores with numbers from <code class="docutils literal notranslate"><span class="pre">&lt;b&gt;</span></code> to <code class="docutils literal notranslate"><span class="pre">&lt;c&gt;</span></code>.
The core number should not exceed the number of cores available on the system. The length of the list should be equal to the number of workers.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify cpu affinity for oneCCL worker threads.</p>
</section>
<section id="ccl-worker-mem-affinity">
<h3>CCL_WORKER_MEM_AFFINITY<a class="headerlink" href="#ccl-worker-mem-affinity" title="Permalink to this headline">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_WORKER_MEM_AFFINITY</span><span class="o">=&lt;</span><span class="n">nodelist</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;nodelist&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">auto</span></code></p></td>
<td><p>Workers are automatically pinned to NUMA nodes that correspond to CPU affinity of workers.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;nodelist&gt;</span></code></p></td>
<td><p>A comma-separated list of NUMA node numbers for all local workers, one number per worker.
The i-th local worker is pinned to the i-th NUMA node in the list.
The number should not exceed the number of NUMA nodes available on the system.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify memory affinity for oneCCL worker threads.</p>
</section>
</section>
<section id="atl">
<h2>ATL<a class="headerlink" href="#atl" title="Permalink to this headline">#</a></h2>
<p>The group of environment variables to control ATL (abstract transport layer).</p>
<section id="ccl-atl-transport">
<span id="id4"></span><h3>CCL_ATL_TRANSPORT<a class="headerlink" href="#ccl-atl-transport" title="Permalink to this headline">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ATL_TRANSPORT</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mpi</span></code></p></td>
<td><p>MPI transport (<strong>default</strong>).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ofi</span></code></p></td>
<td><p>OFI (libfabric*) transport.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to select the transport for inter-process communications.</p>
</section>
<section id="ccl-atl-hmem">
<h3>CCL_ATL_HMEM<a class="headerlink" href="#ccl-atl-hmem" title="Permalink to this headline">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ATL_HMEM</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Enable heterogeneous memory support on the transport layer.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Disable heterogeneous memory support on the transport layer (<strong>default</strong>).</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to enable handling of HMEM/GPU buffers by the transport layer.
The actual HMEM support depends on the limitations on the transport level and system configuration.</p>
</section>
<section id="ccl-atl-shm">
<h3>CCL_ATL_SHM<a class="headerlink" href="#ccl-atl-shm" title="Permalink to this headline">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ATL_SHM</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Disables the OFI shared memory provider. The default value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Enables the OFI shared memory provider.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to enable the OFI shared memory provider to communicate between ranks in the same node of the host (CPU) buffers.
This capability requires OFI as the transport (<code class="docutils literal notranslate"><span class="pre">CCL_ATL_TRANSPORT=ofi</span></code>).</p>
<p>The OFI/SHM provider has support to utilize the <a class="reference external" href="https://01.org/blogs/2019/introducing-intel-data-streaming-accelerator">Intel(R) Data Streaming Accelerator* (DSA)</a>.
To run it with DSA*, you need:
* Linux* OS kernel support for the DSA* shared work queues
* Libfabric* 1.17 or later</p>
<p>To enable DSA, set the following environment variables:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">FI_SHM_DISABLE_CMA</span><span class="o">=</span><span class="mi">1</span>
<span class="n">FI_SHM_USE_DSA_SAR</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
<p>Refer to Libfabric* Programmer’s Manual for the additional details about DSA* support in the SHM provider: <a class="reference external" href="https://ofiwg.github.io/libfabric/main/man/fi_shm.7.html">https://ofiwg.github.io/libfabric/main/man/fi_shm.7.html</a>.</p>
</section>
<section id="ccl-process-launcher">
<h3>CCL_PROCESS_LAUNCHER<a class="headerlink" href="#ccl-process-launcher" title="Permalink to this headline">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_PROCESS_LAUNCHER</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">hydra</span></code></p></td>
<td><p>Uses the MPI hydra job launcher. The default value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">torch</span></code></p></td>
<td><p>Uses a torch job launcher.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pmix</span></code></p></td>
<td><p>Is used with the PALS job launcher that uses the pmix API. The <code class="docutils literal notranslate"><span class="pre">mpiexec</span></code> command should be similar to:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_PROCESS_LAUNCHER</span><span class="o">=</span><span class="n">pmix</span><span class="w"> </span><span class="n">CCL_ATL_TRANSPORT</span><span class="o">=</span><span class="n">mpi</span><span class="w"> </span><span class="n">mpiexec</span><span class="w"> </span><span class="o">-</span><span class="n">np</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="n">ppn</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">--</span><span class="n">pmi</span><span class="o">=</span><span class="n">pmix</span><span class="w"> </span><span class="p">...</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">none</span></code></p></td>
<td><p>No job launcher is used. You should specify the values for <code class="docutils literal notranslate"><span class="pre">CCL_LOCAL_SIZE</span> <span class="pre">and</span> <span class="pre">CCL_LOCAL_RANK</span></code>.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the job launcher.</p>
</section>
<section id="ccl-local-size">
<h3>CCL_LOCAL_SIZE<a class="headerlink" href="#ccl-local-size" title="Permalink to this headline">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_LOCAL_SIZE</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SIZE</span></code></p></td>
<td><p>A total number of ranks on the local host.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify a total number of ranks on a local host.</p>
</section>
<section id="ccl-local-rank">
<h3>CCL_LOCAL_RANK<a class="headerlink" href="#ccl-local-rank" title="Permalink to this headline">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_LOCAL_RANK</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RANK</span></code></p></td>
<td><p>Rank number of the current process on the local host.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the rank number of the current process in the local host.</p>
</section>
</section>
<section id="multi-nic">
<h2>Multi-NIC<a class="headerlink" href="#multi-nic" title="Permalink to this headline">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">CCL_MNIC</span></code>, <code class="docutils literal notranslate"><span class="pre">CCL_MNIC_NAME</span></code> and <code class="docutils literal notranslate"><span class="pre">CCL_MNIC_COUNT</span></code> define filters to select multiple NICs.
oneCCL workers will be pinned on selected NICs in a round-robin way.</p>
<section id="ccl-mnic">
<h3>CCL_MNIC<a class="headerlink" href="#ccl-mnic" title="Permalink to this headline">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_MNIC</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">global</span></code></p></td>
<td><p>Select all NICs available on the node.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">local</span></code></p></td>
<td><p>Select all NICs local for the NUMA node that corresponds to process pinning.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">none</span></code></p></td>
<td><p>Disable special NIC selection, use a single default NIC (<strong>default</strong>).</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to control multi-NIC selection by NIC locality.</p>
</section>
<section id="ccl-mnic-name">
<h3>CCL_MNIC_NAME<a class="headerlink" href="#ccl-mnic-name" title="Permalink to this headline">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_MNIC_NAME</span><span class="o">=&lt;</span><span class="n">namelist</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;namelist&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;namelist&gt;</span></code></p></td>
<td><p>A comma-separated list of NIC full names or prefixes to filter NICs.
Use the <code class="docutils literal notranslate"><span class="pre">^</span></code> symbol to exclude NICs starting with the specified prefixes. For example,
if you provide a list <code class="docutils literal notranslate"><span class="pre">mlx5_0,mlx5_1,^mlx5_2</span></code>, NICs with the names <code class="docutils literal notranslate"><span class="pre">mlx5_0</span></code> and <code class="docutils literal notranslate"><span class="pre">mlx5_1</span></code>
will be selected, while <code class="docutils literal notranslate"><span class="pre">mlx5_2</span></code> will be excluded from the selection.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to control multi-NIC selection by NIC names.</p>
</section>
<section id="ccl-mnic-count">
<h3>CCL_MNIC_COUNT<a class="headerlink" href="#ccl-mnic-count" title="Permalink to this headline">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_MNIC_COUNT</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">N</span></code></p></td>
<td><p>The maximum number of NICs that should be selected for oneCCL workers.
If not specified then equal to the number of oneCCL workers.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the maximum number of NICs to be selected.
The actual number of NICs selected may be smaller due to limitations on transport level or system configuration.</p>
</section>
</section>
<section id="low-precision-datatypes">
<span id="id5"></span><h2>Low-precision datatypes<a class="headerlink" href="#low-precision-datatypes" title="Permalink to this headline">#</a></h2>
<p>The group of environment variables to control processing of low-precision datatypes.</p>
<section id="ccl-bf16">
<h3>CCL_BF16<a class="headerlink" href="#ccl-bf16" title="Permalink to this headline">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_BF16</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">avx512f</span></code></p></td>
<td><p>Select implementation based on <code class="docutils literal notranslate"><span class="pre">AVX512F</span></code> instructions.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">avx512bf</span></code></p></td>
<td><p>Select implementation based on <code class="docutils literal notranslate"><span class="pre">AVX512_BF16</span></code> instructions.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to select implementation for BF16 &lt;-&gt; FP32 conversion on reduction phase of collective operation.
Default value depends on instruction set support on specific CPU. <code class="docutils literal notranslate"><span class="pre">AVX512_BF16</span></code>-based implementation has precedence over <code class="docutils literal notranslate"><span class="pre">AVX512F</span></code>-based one.</p>
</section>
<section id="ccl-fp16">
<h3>CCL_FP16<a class="headerlink" href="#ccl-fp16" title="Permalink to this headline">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_FP16</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">f16c</span></code></p></td>
<td><p>Select implementation based on <code class="docutils literal notranslate"><span class="pre">F16C</span></code> instructions.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">avx512f</span></code></p></td>
<td><p>Select implementation based on <code class="docutils literal notranslate"><span class="pre">AVX512F</span></code> instructions.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">avx512fp16</span></code></p></td>
<td><p>Select implementation based on <code class="docutils literal notranslate"><span class="pre">AVX512FP16</span></code> instructions.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to select implementation for on reduction phase of collective operation.
<code class="docutils literal notranslate"><span class="pre">AVX512FP16</span></code> uses native FP16 numeric operations for reduction.
<code class="docutils literal notranslate"><span class="pre">AVX512F</span></code> and <code class="docutils literal notranslate"><span class="pre">F16C</span></code> use FP16 &lt;-&gt; FP32 conversion operations to perform the reduction.
Default value depends on instruction set support on specific CPU.
<code class="docutils literal notranslate"><span class="pre">AVX512FP16</span></code>-based implementation has precedence over <code class="docutils literal notranslate"><span class="pre">AVX512F</span></code> and <code class="docutils literal notranslate"><span class="pre">F16C</span></code>-based one.</p>
</section>
</section>
<section id="ccl-log-level">
<h2>CCL_LOG_LEVEL<a class="headerlink" href="#ccl-log-level" title="Permalink to this headline">#</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_LOG_LEVEL</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="table table-left">
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">error</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">warn</span></code> (<strong>default</strong>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">info</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">debug</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">trace</span></code></p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to control logging level.</p>
</section>
<section id="ccl-itt-level">
<h2>CCL_ITT_LEVEL<a class="headerlink" href="#ccl-itt-level" title="Permalink to this headline">#</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ITT_LEVEL</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Enable support for ITT profiling.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Disable support for ITT profiling (<strong>default</strong>).</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify Intel® Instrumentation and Tracing Technology (ITT) profiling level.
Once the environment variable is enabled (value &gt; 0), it is possible to collect and display profiling
data for oneCCL using tools such as Intel® VTune™ Profiler.</p>
</section>
<section id="fusion">
<h2>Fusion<a class="headerlink" href="#fusion" title="Permalink to this headline">#</a></h2>
<p>The group of environment variables to control fusion of collective operations.</p>
<section id="ccl-fusion">
<h3>CCL_FUSION<a class="headerlink" href="#ccl-fusion" title="Permalink to this headline">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_FUSION</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Enable fusion of collective operations</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Disable fusion of collective operations (<strong>default</strong>)</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to control fusion of collective operations.
The real fusion depends on additional settings described below.</p>
</section>
<section id="ccl-fusion-bytes-threshold">
<span id="id6"></span><h3>CCL_FUSION_BYTES_THRESHOLD<a class="headerlink" href="#ccl-fusion-bytes-threshold" title="Permalink to this headline">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_FUSION_BYTES_THRESHOLD</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SIZE</span></code></p></td>
<td><p>Bytes threshold for a collective operation. If the size of a communication buffer in bytes is less than or equal
to <code class="docutils literal notranslate"><span class="pre">SIZE</span></code>, then oneCCL fuses this operation with the other ones.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the threshold of the number of bytes for a collective operation to be fused.</p>
</section>
<section id="ccl-fusion-count-threshold">
<span id="id7"></span><h3>CCL_FUSION_COUNT_THRESHOLD<a class="headerlink" href="#ccl-fusion-count-threshold" title="Permalink to this headline">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_FUSION_COUNT_THRESHOLD</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">COUNT</span></code></p></td>
<td><p>The threshold for the number of collective operations.
oneCCL can fuse together no more than <code class="docutils literal notranslate"><span class="pre">COUNT</span></code> operations at a time.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify count threshold for a collective operation to be fused.</p>
</section>
<section id="ccl-fusion-cycle-ms">
<span id="id8"></span><h3>CCL_FUSION_CYCLE_MS<a class="headerlink" href="#ccl-fusion-cycle-ms" title="Permalink to this headline">#</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_FUSION_CYCLE_MS</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MS</span></code></p></td>
<td><p>The frequency of checking for collectives operations to be fused, in milliseconds:</p>
<ul class="simple">
<li><p>Small <code class="docutils literal notranslate"><span class="pre">MS</span></code> value can improve latency.</p></li>
<li><p>Large <code class="docutils literal notranslate"><span class="pre">MS</span></code> value can help to fuse larger number of operations at a time.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the frequency of checking for collectives operations to be fused.</p>
</section>
</section>
<section id="ccl-priority">
<span id="id9"></span><h2>CCL_PRIORITY<a class="headerlink" href="#ccl-priority" title="Permalink to this headline">#</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_PRIORITY</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>You have to explicitly specify priority using <code class="docutils literal notranslate"><span class="pre">priority</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lifo</span></code></p></td>
<td><p>Priority is implicitly increased on each collective call. You do not have to specify priority.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">none</span></code></p></td>
<td><p>Disable prioritization (<strong>default</strong>).</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to control priority mode of collective operations.</p>
</section>
<section id="ccl-max-short-size">
<h2>CCL_MAX_SHORT_SIZE<a class="headerlink" href="#ccl-max-short-size" title="Permalink to this headline">#</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_MAX_SHORT_SIZE</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SIZE</span></code></p></td>
<td><p>Bytes threshold for a collective operation (<code class="docutils literal notranslate"><span class="pre">0</span></code> if not specified). If the size of a communication buffer in bytes is less than or equal to <code class="docutils literal notranslate"><span class="pre">SIZE</span></code>, then oneCCL does not split operation between workers. Applicable for <code class="docutils literal notranslate"><span class="pre">allreduce</span></code>, <code class="docutils literal notranslate"><span class="pre">reduce</span></code> and <code class="docutils literal notranslate"><span class="pre">broadcast</span></code>.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the threshold of the number of bytes for a collective operation to be split.</p>
</section>
<section id="ccl-sycl-output-event">
<h2>CCL_SYCL_OUTPUT_EVENT<a class="headerlink" href="#ccl-sycl-output-event" title="Permalink to this headline">#</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SYCL_OUTPUT_EVENT</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Enable support for SYCL output event (<strong>default</strong>).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Disable support for SYCL output event.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to control support for SYCL output event.
Once the support is enabled, you can retrieve SYCL output event from oneCCL event using <code class="docutils literal notranslate"><span class="pre">get_native()</span></code> method.
oneCCL event must be associated with oneCCL communication operation.</p>
</section>
<section id="ccl-ze-library-path">
<h2>CCL_ZE_LIBRARY_PATH<a class="headerlink" href="#ccl-ze-library-path" title="Permalink to this headline">#</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_ZE_LIBRARY_PATH</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PATH/NAME</span></code></p></td>
<td><p>Specify the name and full path to the <code class="docutils literal notranslate"><span class="pre">Level-Zero</span></code> library for dynamic loading by oneCCL.</p></td>
</tr>
</tbody>
</table>
<p><strong>Description</strong></p>
<p>Set this environment variable to specify the name and full path to <code class="docutils literal notranslate"><span class="pre">Level-Zero</span></code> library. The path should be absolute and validated. Set this variable if <code class="docutils literal notranslate"><span class="pre">Level-Zero</span></code> is not located in the default path. By default oneCCL uses <code class="docutils literal notranslate"><span class="pre">libze_loader.so</span></code> name for dynamic loading.</p>
<section id="point-to-point-operations">
<h3>Point-To-Point Operations<a class="headerlink" href="#point-to-point-operations" title="Permalink to this headline">#</a></h3>
</section>
</section>
<section id="ccl-recv">
<h2>CCL_RECV<a class="headerlink" href="#ccl-recv" title="Permalink to this headline">#</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_RECV</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on the MPI*/OFI* transport layer.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">topo</span></code></p></td>
<td><p>Uses XeLinks across GPUs in a multi-GPU node. Default for GPU buffers.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">offload</span></code></p></td>
<td><p>Based on the MPI*/OFI* transport layer and GPU RDMA when supported by the hardware.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ccl-send">
<h2>CCL_SEND<a class="headerlink" href="#ccl-send" title="Permalink to this headline">#</a></h2>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CCL_SEND</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Arguments</strong></p>
<table class="colwidths-given table table-left">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>&lt;value&gt;</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">direct</span></code></p></td>
<td><p>Based on the MPI*/OFI* transport layer.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">topo</span></code></p></td>
<td><p>Uses XeLinks across GPUs in a multi-GPU node. Default for GPU buffers.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">offload</span></code></p></td>
<td><p>Based on the MPI*/OFI* transport layer and GPU RDMA when supported by the hardware.</p></td>
</tr>
</tbody>
</table>
</section>
</section>


                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="api/operations/point-to-point.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Point-To-Point Operations</p>
      </div>
    </a>
    <a class="right-next"
       href="legal.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Notices and Disclaimers</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#collective-algorithms-selection">Collective Algorithms Selection</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#device-gpu-memory-buffers">Device (GPU) Memory Buffers</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#scaleup">SCALEUP</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-allgatherv-monolithic-pipeline-kernel">CCL_ALLGATHERV_MONOLITHIC_PIPELINE_KERNEL</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-reduce-scatter-monolithic-pipeline-kernel">CCL_REDUCE_SCATTER_MONOLITHIC_PIPELINE_KERNEL</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-alltoallv-monolithic-kernel">CCL_ALLTOALLV_MONOLITHIC_KERNEL</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-skip-scheduler">CCL_SKIP_SCHEDULER</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#scaleout">SCALEOUT</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#available-collectives">Available Collectives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#available-algorithms">Available algorithms</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#allgatherv-algorithms"><code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code> algorithms</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#allreduce-algorithms"><code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code> algorithms</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#alltoall-algorithms"><code class="docutils literal notranslate"><span class="pre">ALLTOALL</span></code> algorithms</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#alltoallv-algorithms"><code class="docutils literal notranslate"><span class="pre">ALLTOALLV</span></code> algorithms</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#barrier-algorithms"><code class="docutils literal notranslate"><span class="pre">BARRIER</span></code> algorithms</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#bcast-algorithms"><code class="docutils literal notranslate"><span class="pre">BCAST</span></code> algorithms</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#reduce-algorithms"><code class="docutils literal notranslate"><span class="pre">REDUCE</span></code> algorithms</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#reduce-scatter-algorithms"><code class="docutils literal notranslate"><span class="pre">REDUCE_SCATTER</span></code> algorithms</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#host-cpu-memory-buffers">Host (CPU) Memory Buffers</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-coll-name">CCL_&lt;coll_name&gt;</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-rs-chunk-count">CCL_RS_CHUNK_COUNT</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-rs-min-chunk-size">CCL_RS_MIN_CHUNK_SIZE</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#workers">Workers</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-worker-count">CCL_WORKER_COUNT</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-worker-affinity">CCL_WORKER_AFFINITY</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-worker-mem-affinity">CCL_WORKER_MEM_AFFINITY</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#atl">ATL</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-atl-transport">CCL_ATL_TRANSPORT</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-atl-hmem">CCL_ATL_HMEM</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-atl-shm">CCL_ATL_SHM</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-process-launcher">CCL_PROCESS_LAUNCHER</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-local-size">CCL_LOCAL_SIZE</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-local-rank">CCL_LOCAL_RANK</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-nic">Multi-NIC</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-mnic">CCL_MNIC</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-mnic-name">CCL_MNIC_NAME</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-mnic-count">CCL_MNIC_COUNT</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#low-precision-datatypes">Low-precision datatypes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-bf16">CCL_BF16</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fp16">CCL_FP16</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-log-level">CCL_LOG_LEVEL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-itt-level">CCL_ITT_LEVEL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fusion">Fusion</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fusion">CCL_FUSION</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fusion-bytes-threshold">CCL_FUSION_BYTES_THRESHOLD</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fusion-count-threshold">CCL_FUSION_COUNT_THRESHOLD</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-fusion-cycle-ms">CCL_FUSION_CYCLE_MS</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-priority">CCL_PRIORITY</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-max-short-size">CCL_MAX_SHORT_SIZE</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-sycl-output-event">CCL_SYCL_OUTPUT_EVENT</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-ze-library-path">CCL_ZE_LIBRARY_PATH</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#point-to-point-operations">Point-To-Point Operations</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-recv">CCL_RECV</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ccl-send">CCL_SEND</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Intel
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <p align="right"><a href="https://www.intel.com/content/www/us/en/privacy/intel-cookie-notice.html">Cookies</a></p>
</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>